### Introducing The Metrics Console

#### Main View

![main page](/images/posts/product-update/5/MainConsolePage.png)

#### Detailed View

![detailed page](/images/posts/product-update/5/DetailedConsolePage.png)

#### What is the Metrics Console? 📊

The Metrics Console is a console in your terminal that allows you to view live metrics from your Moose application.

Have you ever wondered why something is not working in your Moose application and did not know where to look or you want to know how your Moose app is performing? Or perhaps you are just curious about some metrics?

The Metrics Console is the answer because it lets you pinpoint where your issue is within your Moose app and gives you a wide range of metrics which lets you analyze your Moose app’s performance or just view numbers out of curiosity.

To use the Metrics Console you can run the command:
`moose metrics`

#### What Metrics Can You View? 🔍

**In the Metrics Console, you can view three main categories of metrics.**

1. **Endpoint Metrics:** These metrics track the performance of your ingest and consumption endpoints.
   Some metrics you can see are the number of requests per second, bytes per second, the average latency, and many more.
   One special feature that the endpoint metrics have is you can enter a detailed view which gives you a set of charts and detailed metrics to provide you with detailed insights for a specific endpoint.
2. **Kafka to Clickhouse Sync Metrics:**
   the Kafka to Clickhouse sync process which is the process that takes the ingested data and through Kafka puts it into Clickhouse.
   You can view how many Kafka messages are being sent from each endpoint and how many are received from each data model.
   There are also metrics tracking the lag, messages per second, and bytes per second.
3. **Streaming Functions Metrics:**
   These metrics give you valuable insights into how your streaming functions are performing with metrics that show the number of Kafka messages in and out of your streaming functions.
   Aka the number of data points in and database rows out.
   You can also see the number of messages in and out per second and the bytes per second coming out of your streaming functions.

#### How Can You View Metrics In Production?

In production, you can see the metrics that your moose app is collecting by simply visiting `yourmooseurl/metrics`. This endpoint is also while running moose locally. These metrics are collected using Prometheus instrumentation and metrics format.

Here is an example of one of the metrics that is sent to this HTTP endpoint

```
# HELP kafka_clickhouse_sync_bytes_out Bytes sent to clickhouse.
# TYPE kafka_clickhouse_sync_bytes_out counter
kafka_clickhouse_sync_bytes_out_total{consumer_group="clickhouse sync",topic="UserActivity_0_0"} 100
kafka_clickhouse_sync_bytes_out_total{consumer_group="clickhouse sync",topic="ParsedActivity_0_0"} 150
# HELP streaming_functions_bytes Bytes sent from one data model to another using kafka stream.
# TYPE streaming_functions_bytes gauge
streaming_functions_bytes{path="UserActivity_0_0 -> ParsedActivity_0_0"} 150
# EOF
```

All of the metrics outputted to this endpoint are in Prometheus format allowing you to connect them with your visualization tools.

#### Technical Bits On The Metrics Console's Performance?

**The Metrics Console was developed with speed and efficiency in mind.**

The Metrics Console is built as a completely separate process from the rest of the cli.
Diving into some technical bits the Metrics Console works by sending an HTTP request to the metrics HTTP endpoint every second collecting the Prometheus metrics only when the console is running.
The Metrics Console then parses the Prometheus metrics and stores the numbers. We display the parsed metrics right in your terminal with a comprehensive and intuitive interface.
This means when you are not running the console no computing resources are used by the console’s process.
Even when you are running the Metrics Console there is no noticeable difference in performance.

**That's right Moose is still extremely fast!**

**P.S.** if you would like to learn more about Moose and the Metrics Console check out our [documentation](https://docs.moosejs.com) and [github repository](https://github.com/514-labs/moose) for more info.

export const metadata = {
  title: "Introducing The Metrics Console",
  publishedAt: "2024-07-26T18:00:30Z",
  categories: ["Announcements, Product"],
  author: "Aditya",
  description:
    "Introducing the Metrics Console, a new feature in Moose that allows you to view your apps metrics in a comprehensive and intuitive way.",
};
