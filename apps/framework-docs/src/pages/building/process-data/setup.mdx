import { Callout, FileTree } from "nextra/components";

# Initialize a Streaming Function

## Using the CLI

Initialize your Streaming Function with the `moose function init` CLI command:

```bash filename="Terminal" copy
moose function init --source <SOURCE_DATA_MODEL> --destination <DESTINATION_DATA_MODEL>
```

This command generates a new Streaming Function file in the `/functions` directory of your Moose app according to the [file structure described previously](../process-data).

<Callout type="warning">
  Make sure the `SOURCE_DATA_MODEL` and `DESTINATION_DATA_MODEL` are valid data
  models that exist in your `/datamodels` directory. You can find a list of your
  existing data models by running `moose ls`.
</Callout>

## Manual Initialization

You can alternatively create a new Streaming Function file manually in the `/functions` directory of your Moose app. The file name should be in the format `SourceDataModel__DestinationDataModel.ts`.
Inside the file, define the function as follows:

```ts filename="/functions/SourceDataModel__DestinationDataModel.ts" copy
import { SourceDataModel } from "../datamodels/path/to/SourceDataModel";
import { DestinationDataModel } from "../datamodels/path/to/DestinationDataModel";

export default function functionName(
  source: SourceDataModel,
): DestinationDataModel[] | DestinationDataModel | null {
  // Transformation logic
}
```

Hints:

- Make sure You import the source and destination Data Models from the
  correct paths in your app
- Replace `functionName` with whatever descriptive
  name you choose for your function
- Replace `SourceDataModel` and `DestinationDataModel` with the actual names of your Data Models
- The default export is important because Moose uses it to identify the entry point into the
  Streaming Function

## Next Steps

With your Streaming Function initialized, you can now start defining the transformation logic to process data from the source Data Model to the destination Data Model. We'll cover this in more detail in the next section.
