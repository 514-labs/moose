import { Callout, ZoomImg, Python, TypeScript, LanguageSwitcher } from "../../components";
import { Steps, FileTree } from "nextra/components";

# Getting Started with Moose

<LanguageSwitcher />

<Callout type="info" title="Prerequisites:">
  - [Git](https://git-scm.com/)
  <TypeScript>
    - [Node](https://nodejs.org/en/)
  </TypeScript>
  <Python>
    - [Python version 3.12+](https://www.python.org/downloads/)
  </Python>
  - [Docker](https://www.docker.com/)
  - macOS or Linux (Windows is not supported at this time, but may work using
    WSL Windows Subsystem for Linux)
</Callout>

<Callout type="warning" title="Run Docker">
  Open Docker Desktop if its not already running. <br /> Don't have it
  installed? [Download Docker
  here](https://www.docker.com/products/docker-desktop)
</Callout>


<Steps>

<Python>
### Create and Activate a Virtual Environment
Navigate to the directory where you want to create your Moose project, then run:
```bash filename="Terminal" copy
python3 -m venv .venv && source .venv/bin/activate
```

### Install Moose CLI
In your virtual environment, run:
```bash filename="Terminal" copy
pip install moose-cli
```
</Python>

### Create an Empty Moose Project

<Python>
```bash filename="Terminal" copy
moose-cli init moose-github-analytics python --empty
```
</Python>

<TypeScript>
```bash filename="Terminal" copy
npx create-moose-app@latest moose-github-analytics ts --empty
```
</TypeScript>
This Moose CLI helper function creates a new Moose app with the proper conventions for the basic directory structure. This includes an `/app` folder which contains the heart of your new Moose app. Each sub-folder hosts one type of Moose primitive.

<FileTree>
  <FileTree.Folder open name="moose-github-analytics">
    <FileTree.Folder open name="app">
      <FileTree.Folder name="datamodels" />
      <FileTree.Folder name="functions" />
      <FileTree.Folder name="blocks" />
      <FileTree.Folder name="apis" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

### `cd` into your Moose Project and Install Dependencies

<Python>
```bash filename="Terminal" copy
cd moose-github-analytics && pip install -e .
```
</Python>

<TypeScript>
```bash filename="Terminal" copy
cd moose-github-analytics && npm install
```
</TypeScript>

### Run the Moose Development Server

<Python>
```bash filename="Terminal" copy
moose-cli dev
```
</Python>

<TypeScript>
```bash filename="Terminal" copy
npm run dev
```
</TypeScript>

<Callout type="warning">
  You must be in your project directory in order to start the development server
</Callout>

You should expect to see the following printed to your terminal:

<ZoomImg src="/moose-dev-terminal.png" />

<Callout type="danger" title="Troubleshooting">
  If you encounter any issues starting the dev server, run the following command to check for common configuration problems:

  <Python>
  ```bash filename="Terminal" copy
  moose-cli check
  ```
  </Python>

  <TypeScript>
  ```bash filename="Terminal" copy
  npx moose-cli check
  ```
  </TypeScript>

  This will verify your environment setup, including Python/Node version compatibility and other requirements.
</Callout>

<Callout type="success">
  You have set up a Moose instance at `http://localhost:4000`
  
  <br/><br/>

It provides the following infrastructure:

  <ul>
    - **OLAP Database** (Clickhouse) to store and analyze your data 
    - **Streaming Data Platform** (Redpanda) to buffer and transform incoming data
    - **Ingestion and Consumption APIs** to get data in and out of your database
  </ul>
<br/>
As you develop, the dev server automatically updates with your latest changes, providing a real-time view of your Moose application locally.
</Callout>

### Open Project in IDE

With VSCode, for example:

```bash filename="Terminal" copy
code .
```

<Callout type="info" title="(VSCode) Install Recommended Extensions ">
  Click '**Install**' on the pop-up window located in the bottom right corner of
  the screen. Moose will automatically configure these extensions for you.
</Callout>

<ZoomImg src="/vscode-install.png" />
</Steps>
