---
title: Packaging Moose for Deployment
description: Build and package your Moose application for production deployment
---

import { TypeScript, Python, LanguageSwitcher, Callout , CTACard, CTACards } from "@/components";
import { Container, WifiOff } from "lucide-react";

# Packaging Moose for Deployment

<LanguageSwitcher />

This guide covers building and packaging your Moose application for production deployment. For complete production configuration and deployment strategies, see [Production Mode](../runtime/prod).

## Building Your Application

Navigate to your Moose project directory:

```bash filename="Terminal" copy
cd my-moose-project
```

### Docker Packaging

Build Docker images for deployment:

```bash filename="Terminal" copy
moose build --docker
```

To view the architecture-specific images this command creates, run:

```bash filename="Terminal" copy
docker images
```
```txt filename="Terminal" copy
>docker images
REPOSITORY                                              TAG               IMAGE ID       CREATED              SIZE
moose-df-deployment-aarch64-unknown-linux-gnu           latest            c50674c7a68a   About a minute ago   155MB
moose-df-deployment-x86_64-unknown-linux-gnu            latest            e5b449d3dea3   About a minute ago   163MB
```

### Offline Packaging

For environments without internet access, create a portable package:

```bash filename="Terminal" copy
moose build
```

This creates a timestamped zip file: `your-project-name-YYYY-MM-DD.zip`

## Publishing to Container Registry

Tag and push your images to your container registry:

```bash filename="Terminal" copy
# Tag images
docker tag moose-df-deployment-aarch64-unknown-linux-gnu:latest {your-repo}/moose-app-arm64:latest
docker tag moose-df-deployment-x86_64-unknown-linux-gnu:latest {your-repo}/moose-app-amd64:latest

# Push images
docker push {your-repo}/moose-app-arm64:latest
docker push {your-repo}/moose-app-amd64:latest
```

### Automated Publishing Script

<Callout type="info">
Save this script as `push.sh` to automate the publishing process.
</Callout>

```bash filename="push.sh" copy
#!/bin/bash

version=$2

if [ -z "$1" ]; then
    echo "Usage: ./push.sh container-repo-name [version]"
    echo "Example: ./push.sh myrepo/moose-app 1.0.0"
    exit 1
fi

if [ -z "$2" ]; then
    output=$(npx @514labs/moose-cli -V)
    version=$(echo "$output" | sed -n '2p' | awk '{print $2}')
fi

echo "Using version: $version"

# ARM64
arch="moose-df-deployment-aarch64-unknown-linux-gnu"
docker tag $arch:$version $1-arm64:$version
docker push $1-arm64:$version

# AMD64
arch="moose-df-deployment-x86_64-unknown-linux-gnu"  
docker tag $arch:$version $1-amd64:$version
docker push $1-amd64:$version

echo "Images published successfully"
```

## Next Steps

After packaging your application:

1. **Set up infrastructure** - Configure ClickHouse, Redis, and optional services (see [Infrastructure Setup](infrastructure))
2. **Follow the deployment guide for your platform**

<CTACards>
<CTACard
  title="Kubernetes"
  description="Deploy your application to Kubernetes"
  ctaLink={"/stack/moose-build/deploying-on-kubernetes"}
  orientation="horizontal"
/>
<CTACard
  title="ECS"
  description="Deploy your application to ECS"
  ctaLink={"/stack/moose-build/deploying-on-ecs"}
  orientation="horizontal"
/>
<CTACard
  title="Docker Compose"
  description="Deploy your application with Docker Compose"
  ctaLink={"/stack/moose-build/deploying-with-docker-compose"}
  orientation="horizontal"
/>
<CTACard
  title="Offline Deployment"
  description="Deploy your application to an offline server"
  ctaLink={"/stack/moose-build/deploying-on-an-offline-server"}
  orientation="horizontal"
/>
</CTACards>
