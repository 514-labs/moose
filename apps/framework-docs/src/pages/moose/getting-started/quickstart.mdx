import { Tabs, Steps, Card, FileTree } from "nextra/components";
import { Callout, FeatureCard, FeatureGrid, ToggleBlock, ZoomImg, Python, TypeScript, LanguageSwitcher, MuxVideo } from "@/components";
import { RectangleEllipsis, Square, Workflow, Database, FileCode } from "lucide-react";
import { paths } from "@/lib/paths";

# Quick Start

<LanguageSwitcher />

<MuxVideo 
  playbackId="ZB502hG1rKXg9fKR1muI4ABu4vjH83aIFNtts2ONb9Cw"
  title="Moose Quickstart Video"
  width="50%"
  height="50%"
  poster="https://image.mux.com/ZB502hG1rKXg9fKR1muI4ABu4vjH83aIFNtts2ONb9Cw/thumbnail.png?width=214&height=121&time=0"
/>

<Callout type="info" title="Prerequisites">

<TypeScript>
- **Node.js**: [version 20+](https://nodejs.org/en/download)
</TypeScript>

<Python>
- **Python**: [version 3.12+](https://www.python.org/downloads/)
</Python>

- **OS**: macOS or Linux (WSL supported for Windows)
- **Docker**: [Installation instructions](https://docs.docker.com/get-started/get-docker/)
</Callout>

## Create Your First Pipeline

<Steps>
### Initialize Project

<TypeScript>
```bash filename="Terminal" copy
npx create-moose-app@latest my-moose-app ts
cd my-moose-app && npm install
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
pip install -U moose-cli
moose-cli init my-moose-app py
cd my-moose-app && pip install .
```
</Python>

### Start Development Server

<TypeScript>
```bash filename="Terminal" copy
npx moose-cli dev
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
moose-cli dev
```
</Python>

### Send Your First Data Point

```bash filename="Terminal" copy
curl -X POST "http://localhost:4000/ingest/Foo" \
  -H "Content-Type: application/json" \
  -d '{"primaryKey": "test", "timestamp": 1546300801.0, "optionalString": "hello world"}'
```

### Verify Data Ingestion

<TypeScript>
```bash filename="Terminal" copy
npx moose-cli peek Foo
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
moose-cli peek Foo
```
</Python>

</Steps>

## What's Next?

<FeatureGrid columns={3}>
<FeatureCard
  title="Data Modeling Basics"
  description="Learn how to build your first data model in Moose" 
  href={paths.dataModels}
/>
<FeatureCard
  title="Working with Database Tables"
  description="Learn how to work with database tables in Moose" 
  href={paths.olapTables}
/>
<FeatureCard 
  title="Building Analytics APIs"
  description="Serve data from your OLAP database to client applications" 
  href={paths.consumptionApis}
/>
</FeatureGrid>

<ToggleBlock openText="Need Help?" closeText="Hide Help">

<Tabs items={["Common Issues", "Connect to Database"]}>
<Tabs.Tab>
- **Docker not running**: Run `open -a Docker` on macOS
- **Port conflicts**: Check `lsof -i :4000` for conflicts
- **Installation issues**: Clear cache and reinstall
</Tabs.Tab>

<Tabs.Tab>
```toml filename="moose.config.toml"
[clickhouse_config]
db_name = "local"
user = "panda"
password = "pandapass"
host = "localhost"
host_port = 18123
```

Install [SQLTools](https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools) for VSCode integration
</Tabs.Tab>
</Tabs>

</ToggleBlock>