# API Reference

## OlapTable
### Configuration Options
```typescript
interface OlapTableConfig<T> {
  orderByFields?: string[];     // Define primary sort order
  deduplicate?: boolean;        // Enable deduplication
}
```

### Methods
- `new OlapTable<T>(name: string, config?: OlapTableConfig<T>)`
- Additional methods...

## Stream
### Configuration Options
```typescript
interface StreamConfig<T> {
  parallelism?: number;         // Number of parallel processors
  retentionPeriod?: number;     // Retention period in seconds
  destination?: OlapTable<T>;   // Optional storage destination
}
```

### Methods
- `new Stream<T>(name: string, config?: StreamConfig<T>)`
- `addTransform<U>(destination: Stream<U>, transform: TransformFunction<T, U>)`
- Additional methods...

## IngestApi
### Configuration Options
```typescript
interface IngestConfig<T> {
  destination: Stream<T>;       // Stream to write incoming data to
  format?: IngestionFormat;     // Data format specification
}
```

### Endpoints
- POST `/api/ingest/<name>`
- Additional endpoints...

## Workflow Configuration
### Config.toml Options
```toml
name = "workflow_name"          # Required. Workflow name
timeout = "1h"                  # Required. Default: 1 hour
retries = 3                     # Required. Default: 3 retries
schedule = "0 12 * * *"        # Optional. Cron schedule
tasks = [task1, task2]         # Required. Task list
```

### Task Configuration
```typescript
interface TaskConfig {
  retries?: number;            // Number of retries per task
  timeout?: string;            // Task timeout duration
}
```

## Type Definitions
### Common Types
```typescript
type Key<T> = T;               // Primary key type
type ZeroOrMany<T> = T | T[] | undefined;
type TransformFunction<T, U> = (record: T) => ZeroOrMany<U> | Promise<ZeroOrMany<U>>;
```

### Enums
```typescript
enum IngestionFormat {
  JSON,
  JSON_ARRAY
}
```
