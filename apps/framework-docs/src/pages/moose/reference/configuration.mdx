# Project Configuration

| Configuration Key      | Description                                            |
| :--------------------- | :----------------------------------------------------- |
| `language`             | Programming language used in the project (`Typescript` or `Python`) |
| `redpanda_config`      | RedPanda streaming configuration (also aliased as `kafka_config`) |
| `clickhouse_config`    | ClickHouse database configuration                        |
| `http_server_config`   | HTTP server configuration for local development          |
| `redis_config`         | Redis configuration                                      |
| `git_config`           | Git configuration                                        |
| `temporal_config`      | Temporal workflow configuration                          |
| `supported_old_versions` | Map of supported old versions and their locations        |
| `jwt`                  | JWT (JSON Web Token) authentication configuration        |
| `authentication`       | General authentication configuration (e.g., admin API key) |
| `cron_jobs`            | List of configured cron jobs                             |
| `features`             | Feature flags to enable/disable specific functionalities |

## `redpanda_config` / `kafka_config`

| Field                | Description                                     | Type          | Default Value   |
| :------------------- | :---------------------------------------------- | :------------ | :-------------- |
| `broker`             | Broker connection string (e.g., "host:port")    | `String`      | "localhost:19092" |
| `message_timeout_ms` | Message timeout in milliseconds                 | `i32`         | 1000            |
| `retention_ms`       | Default retention period in milliseconds        | `i32`         | 30000           |
| `replication_factor` | Replication factor for topics                   | `i32`         | 1               |
| `sasl_username`      | SASL username for authentication                | `Option<String>` | `None`          |
| `sasl_password`      | SASL password for authentication                | `Option<String>` | `None`          |
| `sasl_mechanism`     | SASL mechanism (e.g., "PLAIN", "SCRAM-SHA-256") | `Option<String>` | `None`          |
| `security_protocol`  | Security protocol (e.g., "SASL_SSL", "PLAINTEXT") | `Option<String>` | `None`          |
| `namespace`          | Namespace for topic isolation                   | `Option<String>` | `None`          |

## `clickhouse_config`

| Field            | Description                                                                   | Type             | Default Value |
| :--------------- | :---------------------------------------------------------------------------- | :--------------- | :------------ |
| `db_name`        | Database name                                                                 | `String`         | "local"       |
| `user`           | ClickHouse user                                                               | `String`         | "panda"       |
| `password`       | ClickHouse password                                                           | `String`         | "pandapass"   |
| `use_ssl`        | Whether to use SSL for connection                                             | `bool`           | `false`       |
| `host`           | ClickHouse host                                                               | `String`         | "localhost"   |
| `host_port`      | ClickHouse HTTP port                                                          | `i32`            | 18123         |
| `native_port`    | ClickHouse native protocol port                                               | `i32`            | 9000          |
| `host_data_path` | Optional host path to mount as the ClickHouse data volume (uses Docker volume if None) | `Option<PathBuf>` | `None`        |

## `http_server_config`

| Field           | Description                              | Type             | Default Value |
| :-------------- | :--------------------------------------- | :--------------- | :------------ |
| `host`          | Host to bind the webserver to            | `String`         | "localhost"   |
| `port`          | Port for the main API server             | `u16`            | 4000          |
| `management_port` | Port for the management server           | `u16`            | 5001          |
| `path_prefix`   | Optional path prefix for all routes      | `Option<String>` | `None`        |

## `redis_config`

| Field        | Description                                   | Type     | Default Value           |
| :----------- | :-------------------------------------------- | :------- | :---------------------- |
| `url`        | Redis connection URL                          | `String` | "redis://127.0.0.1:6379" |
| `key_prefix` | Namespace prefix for all Redis keys           | `String` | "MS"                    |

## `git_config`

| Field            | Description               | Type     | Default Value |
| :--------------- | :------------------------ | :------- | :------------ |
| `main_branch_name` | Name of the main branch | `String` | "main"        |

## `temporal_config`

| Field                 | Description                               | Type     | Default Value                           |
| :-------------------- | :---------------------------------------- | :------- | :-------------------------------------- |
| `db_user`             | Temporal database user                    | `String` | "temporal"                              |
| `db_password`         | Temporal database password                | `String` | "temporal"                              |
| `db_port`             | Temporal database port                    | `u16`    | 5432                                    |
| `temporal_host`       | Temporal server host                      | `String` | "localhost"                             |
| `temporal_port`       | Temporal server port                      | `u16`    | 7233                                    |
| `temporal_version`    | Temporal server version                   | `String` | "1.22.3"                                |
| `admin_tools_version` | Temporal admin tools version            | `String` | "1.22.3"                                |
| `ui_version`          | Temporal UI version                       | `String` | "2.21.3"                                |
| `ui_port`             | Temporal UI port                          | `u16`    | 8080                                    |
| `ui_cors_origins`     | Temporal UI CORS origins                  | `String` | "http://localhost:3000"                 |
| `config_path`         | Temporal dynamic config path              | `String` | "config/dynamicconfig/development-sql.yaml" |
| `postgresql_version`  | PostgreSQL version for Temporal database  | `String` | "13"                                    |
| `client_cert`         | Path to Temporal client certificate (mTLS) | `String` | ""                                      |
| `client_key`          | Path to Temporal client key (mTLS)        | `String` | ""                                      |
| `ca_cert`             | Path to Temporal CA certificate (mTLS)    | `String` | ""                                      |
| `api_key`             | API key for Temporal Cloud connection     | `String` | ""                                      |

## `jwt`

| Field                            | Description                                | Type     | Default Value |
| :------------------------------- | :----------------------------------------- | :------- | :------------ |
| `enforce_on_all_consumptions_apis` | Enforce JWT on all consumption APIs        | `bool`   | `false`       |
| `enforce_on_all_ingest_apis`     | Enforce JWT on all ingestion APIs          | `bool`   | `false`       |
| `secret`                         | Secret key for JWT signing                 | `String` |               |
| `issuer`                         | JWT issuer                                 | `String` |               |
| `audience`                       | JWT audience                               | `String` |               |

## `authentication`

| Field           | Description                            | Type             | Default Value |
| :-------------- | :------------------------------------- | :--------------- | :------------ |
| `admin_api_key` | Optional hashed admin API key for auth | `Option<String>` | `None`        |

## `features`

| Field            | Description                           | Type   | Default Value |
| :--------------- | :------------------------------------ | :----- | :------------ |
| `streaming_engine` | Enable the streaming engine           | `bool` | `true`        |
| `workflows`        | Enable Temporal workflows             | `bool` | `false`       |
| `data_model_v2`    | Enable ongoing data model redesign V2 | `bool` | `false`       |

