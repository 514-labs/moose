import { Tabs, Steps, Card, FileTree } from "nextra/components";
import { Callout, CTACard, CTACards, ToggleBlock, ZoomImg, Python, TypeScript, LanguageSwitcher, MuxVideo } from "@/components";
import { RectangleEllipsis, Square, Workflow } from "lucide-react";

# Quick Start
<LanguageSwitcher />

<CTACards>
  <CTACard
    title="Start From An Existing Template"
    description="Choose from a variety of templates to get started quickly"
    ctaLink="/templates"
    ctaLabel="View Templates â†’"
    Icon={Square}
  />
</CTACards>


<MuxVideo 
  playbackId="ZB502hG1rKXg9fKR1muI4ABu4vjH83aIFNtts2ONb9Cw"
  title="Moose Quickstart Video"
  width="50%"
  height="50%"
  poster="https://image.mux.com/ZB502hG1rKXg9fKR1muI4ABu4vjH83aIFNtts2ONb9Cw/thumbnail.png?width=214&height=121&time=0"
/>

<Callout type="info" title="Prerequisites">

<TypeScript>
- **Node.js**: [version 20+](https://nodejs.org/en/download)
</TypeScript>

<Python>
- **Python**: [version 3.12+](https://www.python.org/downloads/)
</Python>

- **OS**: macOS or Linux (WSL supported for Windows)
- **Docker**: [Installation instructions](https://docs.docker.com/get-started/get-docker/)
</Callout>

## Create Your First Pipeline

<Steps>
### Initialize Project

<TypeScript>
```bash filename="Terminal" copy
npx create-moose-app@latest my-analytics ts
cd my-analytics && npm install
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
pip install -U moose-cli
moose-cli init my-analytics python
cd my-analytics && pip install -e .
```
</Python>

### Start Development Server

<TypeScript>
```bash filename="Terminal" copy
npx moose-cli dev
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
moose-cli dev
```
</Python>

### Send Your First Data Point

```bash filename="Terminal" copy
curl -X POST "http://localhost:4000/ingest/Foo" \
  -H "Content-Type: application/json" \
  -d '{"primaryKey": "test", "timestamp": 1546300801.0, "optionalString": "hello world"}'
```

### Verify Data Ingestion

<TypeScript>
```bash filename="Terminal" copy
npx moose-cli peek Foo
```
</TypeScript>

<Python>
```bash filename="Terminal" copy
moose-cli peek Foo
```
</Python>

</Steps>

## What's Next?

<CTACards columns={3}>
<CTACard
  title="Working with Database Tables"
  description="Learn how to work with database tables in Moose" 
  ctaLink="/moose/developing/olap-table"
  ctaLabel="Learn More" 
  Icon={Square}
/>
<CTACard
  title="Transform Data in Streams"
  description="Process your data on the fly with streaming transformations" 
  ctaLink="/moose/developing/streams"
  ctaLabel="Learn More" 
  Icon={Workflow}
/>
<CTACard 
  title="Building Analytics APIs"
  description="Serve data from your OLAP database to client applications" 
  ctaLink="/moose/developing/consumption-apis"
  ctaLabel="Learn More" 
  Icon={RectangleEllipsis}
/>
</CTACards>

<ToggleBlock openText="Need Help?" closeText="Hide Help">

<Tabs items={["Common Issues", "Connect to Database", "Resources"]}>
<Tabs.Tab>
- **Docker not running**: Run `open -a Docker` on macOS
- **Port conflicts**: Check `lsof -i :4000` for conflicts
- **Installation issues**: Clear cache and reinstall
</Tabs.Tab>

<Tabs.Tab>
```toml filename="moose.config.toml"
[clickhouse_config]
db_name = "local"
user = "panda"
password = "pandapass"
host = "localhost"
host_port = 18123
```

Install [SQLTools](https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools) for VSCode integration
</Tabs.Tab>

<Tabs.Tab>
- [Join Discord Community](https://discord.gg/moose)
- [Read Documentation](/moose/docs)
- [View Example Projects](/moose/examples)
</Tabs.Tab>
</Tabs>

</ToggleBlock>