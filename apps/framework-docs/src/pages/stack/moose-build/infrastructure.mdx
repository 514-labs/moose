---
title: Infrastructure Setup
description: Set up external services required for Moose production deployment
---

import { Callout } from "@/components";

# Infrastructure Setup

Moose requires external services for production deployment. This guide covers provisioning and basic configuration of these services. For comprehensive production configuration, see [Production Mode](../runtime/prod).

## Required Services

### ClickHouse (Required)
**Analytics database for storing processed data**

Options:
- [ClickHouse Cloud](https://clickhouse.com) (managed)
- Self-hosted ClickHouse cluster
- Local ClickHouse instance (development only)

**Basic connection parameters:**
- Database name
- Username and password
- Host and ports (HTTP: 8443, Native: 9440)
- SSL/TLS configuration

### Redis (Required)
**Caching and state management**

Options:
- [Redis Cloud](https://redis.com) (managed)
- Self-hosted Redis cluster
- Local Redis instance (development only)

**Basic connection parameters:**
- Connection URL with credentials
- Key prefix for namespace isolation

## Optional Services

### Redpanda (Optional)
**Event streaming platform**

Use when you need:
- High-throughput event streaming
- Complex event processing workflows
- Event sourcing patterns

Options:
- [Redpanda Cloud](https://redpanda.com) (managed)
- Self-hosted Redpanda cluster

### Temporal (Optional)
**Workflow orchestration**

Use when you need:
- Long-running workflows
- Complex business process automation
- Reliable task scheduling

Options:
- [Temporal Cloud](https://temporal.io) (managed)
- Self-hosted Temporal cluster

## Configuration Overview

<Callout type="info">
Environment variable configuration varies by deployment platform. See platform-specific guides for exact syntax.
</Callout>

**ClickHouse environment variables:**
```bash
MOOSE_CLICKHOUSE_CONFIG__DB_NAME=myapp
MOOSE_CLICKHOUSE_CONFIG__HOST=clickhouse.example.com
MOOSE_CLICKHOUSE_CONFIG__USER=moose_user
MOOSE_CLICKHOUSE_CONFIG__PASSWORD=secure_password
MOOSE_CLICKHOUSE_CONFIG__USE_SSL=1
```

**Redis environment variables:**
```bash
MOOSE_REDIS_CONFIG__URL=redis://user:pass@redis.example.com:6379
MOOSE_REDIS_CONFIG__KEY_PREFIX=myapp
```

**Redpanda environment variables (if using):**
```bash
MOOSE_REDPANDA_CONFIG__BROKER=kafka.example.com:9092
MOOSE_REDPANDA_CONFIG__SECURITY_PROTOCOL=SASL_SSL
MOOSE_REDPANDA_CONFIG__SASL_MECHANISM=SCRAM-SHA-256
```

**Temporal environment variables (if using):**
```bash
MOOSE_TEMPORAL_CONFIG__TEMPORAL_HOST=namespace.tmprl.cloud
MOOSE_TEMPORAL_CONFIG__API_KEY=your_api_key
```

## Next Steps

1. **Provision services** - Set up ClickHouse and Redis instances
2. **Test connectivity** - Verify your Moose application can connect to services
3. **Choose deployment platform** - Review deployment guides for your target platform
4. **Configure for production** - See [Production Mode](../runtime/prod) for security, scaling, and monitoring configuration
